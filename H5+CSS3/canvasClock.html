<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/minireset.css/0.0.2/minireset.min.css" />
    <style>
        body {
            background-color: lightskyblue;
        }

        #canvas {
            display: block;
            margin: 100px auto 0;
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>

    <script>
        var digit = [
            [
                [0, 0, 1, 1, 1, 0, 0],
                [0, 1, 1, 0, 1, 1, 0],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 1, 1, 0, 1, 1, 0],
                [0, 0, 1, 1, 1, 0, 0]
            ], //0
            [
                [0, 0, 0, 1, 1, 0, 0],
                [0, 1, 1, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [1, 1, 1, 1, 1, 1, 1]
            ],//1
            [
                [0, 1, 1, 1, 1, 1, 0],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 1, 1, 0, 0, 0],
                [0, 1, 1, 0, 0, 0, 0],
                [1, 1, 0, 0, 0, 0, 0],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 1, 1, 1, 1, 1]
            ], //2
            [
                [1, 1, 1, 1, 1, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 1, 1, 1, 1, 1, 0]
            ], //3
            [
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 1, 1, 1, 0],
                [0, 0, 1, 1, 1, 1, 0],
                [0, 1, 1, 0, 1, 1, 0],
                [1, 1, 0, 0, 1, 1, 0],
                [1, 1, 1, 1, 1, 1, 1],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 1, 1, 1, 1]
            ], //4
            [
                [1, 1, 1, 1, 1, 1, 1],
                [1, 1, 0, 0, 0, 0, 0],
                [1, 1, 0, 0, 0, 0, 0],
                [1, 1, 1, 1, 1, 1, 0],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 1, 1, 1, 1, 1, 0]
            ], //5
            [
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 1, 1, 0, 0, 0],
                [0, 1, 1, 0, 0, 0, 0],
                [1, 1, 0, 0, 0, 0, 0],
                [1, 1, 0, 1, 1, 1, 0],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 1, 1, 1, 1, 1, 0]
            ],//6
            [
                [1, 1, 1, 1, 1, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 0, 1, 1, 0, 0, 0],
                [0, 0, 1, 1, 0, 0, 0],
                [0, 0, 1, 1, 0, 0, 0],
                [0, 0, 1, 1, 0, 0, 0]
            ], //7
            [
                [0, 1, 1, 1, 1, 1, 0],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 1, 1, 1, 1, 1, 0],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 1, 1, 1, 1, 1, 0]
            ], //8
            [
                [0, 1, 1, 1, 1, 1, 0],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 1, 1],
                [0, 1, 1, 1, 0, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 1, 1, 0],
                [0, 0, 0, 1, 1, 0, 0],
                [0, 1, 1, 0, 0, 0, 0]
            ],//9
            [
                [0, 0, 0, 0],
                [0, 0, 0, 0],
                [0, 1, 1, 0],
                [0, 1, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0],
                [0, 1, 1, 0],
                [0, 1, 1, 0],
                [0, 0, 0, 0],
                [0, 0, 0, 0]
            ]//冒号
        ];


        /*
        把数组里面的1渲染出来
        1==>小圆点 canva 绘制圆的方法.arc(x,y,r,0,2*PI,false)
        x,y 坐标 x:2(r+1)+r+1 y:2(r+1)+r+1
        r 半径
        通过比圆大的矩形使圆有间距
        设圆的半径为r
        矩形的宽高：2(r+1) 1为圆距离矩形的间距固定值
        因为10*7的二维数组
        一整个数组的宽度 14(r+1) 高度 20(r+1)
        设数字的高度为100，高度：20(r+1)=100  r=4


        把数组的1转化为圆形
        r  
        确立圆的x坐标 和j相关
        r+1
        2(r+1)+(r+1)
        4(r+1)+(r+1)
        6(r+1)+(r+1)
        ...

        j*2*(r+1)+(r+1)
        确立圆的y坐标 和i相关
        r+1
        2(r+1)+(r+1)
        4(r+1)+(r+1)
        6(r+1)+(r+1)
        ...

        i*2*(r+1)+(r+1)


        渲染出数字后，要跟时间关联
        渲染的粒子怎么和当前的时间相关联
        得到日期对象new Date()
        00:00:00这种格式的，正则表达式



        */
        var canvas = document.querySelector('#canvas')
        function Clock() {
            canvas.width = 700;
            canvas.height = 100
            this.cxt = canvas.getContext('2d');
            this.cH = canvas.height;

        }
        Clock.prototype = {
            //初始化
            init: function (num, index) {
                var r = (this.cH / 20) - 1
                //渲染的数字
                for (var i = 0; i < digit[num].length; i++) {
                    //渲染数字的哪一行
                    for (var j = 0; j < digit[num][i].length; j++) {
                        //要渲染的1位置
                        if (digit[num][i][j] == 1) {
                            // console.log(1)
                            this.cxt.fillStyle = '#FFA82E';
                            this.cxt.beginPath();

                            this.cxt.arc(14 * (r + 2) * index + j * 2 * (r + 1) + (r + 1), i * 2 * (r + 1) + (r + 1), r, Math.PI / 180 * 0, Math.PI / 180 * 360);
                            this.cxt.closePath();
                            this.cxt.fill()
                        }
                    }
                }

            },
            //关联时间
            getTime: function () {
                var data = []
                var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
                // console.log(temp);
                data.push(temp[1], temp[2], 10, temp[3], temp[4], 10, temp[5], temp[6])
                // console.log(data)
                //重置高度 清空画布
                canvas.height=100;
                for (i = 0; i < data.length; i++) {
                    this.init(data[i], i)
                }

            }
        }
        var clock = new Clock();
        // for (i = 0; i < 11; i++) {
        //     clock.init(i, i)
        // }
        var timer=null;
        clearInterval(timer)
        timer=setInterval(function(){
            clock.getTime()
        },50)
       
    </script>
</body>

</html>